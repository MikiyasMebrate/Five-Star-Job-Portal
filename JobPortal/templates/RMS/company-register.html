{% load static %}
{% load fontawesome_5 %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Sign Up | ACT - American College Of Technology </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content=" " />
    <meta name="keywords" content="" />
    <meta content="Themesdesign" name="author" />

    {% include 'include/head.html'%}
    {{company_form.media}}

    <style>


.errorlist{
  color:#dcd435;
  padding: 0;
  margin: 0;
}


/* Mark input boxes that gets an error on validation: */
input.invalid {
  background-color: #ffdddd;
}

/* Hide all steps by default: */
.tab {
  display: none;
}

/* Make circles that indicate the steps of the form: */
.step {
  height: 15px;
  width: 15px;
  margin: 0 2px;
  background-color: #bbbbbb;
  border: none;
  border-radius: 50%;
  display: inline-block;
  opacity: 0.5;
}

/* Mark the active step: */
.step.active {
  opacity: 1;
}

/* Mark the steps that are finished and valid: */
.step.finish {
  background-color: #04AA6D;
}
    </style>
</head>

<body>
    <!-- Begin page -->
    <div>
        {% include 'include/navbar.html'%}
        <div class="main-content mt-3 pt-2">
            <div class="page-content">
            

                {% if not user.is_authenticated %}
                <!-- START SIGN-UP -->
                <section class="bg-auth mt-2 pt-1">
                    <div class="container-fluid">
                        <div class="row justify-content-center">
                            <div class="col-xl-10 col-lg-12">
                                <div class="card auth-box">
                                    <div class="row align-items-center">
                                        <div class="col-lg-5 text-center">
                                            <div class="card-body p-4">
                                                <a href="{% url 'index'%}">
                                                    <img src="{% static 'assets/images/logo-light.png' %}" alt="" class="logo-light">
                                                    <img src="{% static 'assets/images/logo-dark.png' %}" alt="" class="logo-dark">
                                                </a>
                                                <div class="mt-5">
                                                    <img src="{% static 'assets/images/auth/sign-up.png' %}" alt="" class="img-fluid">
                                                </div>
                                            </div>
                                        </div><!--end col-->
                                        <div class="col-lg-7">
                                            <div class="auth-content card-body p-5 text-white">
                                              <div  class="w-100 p-5">
                                                <form id="regForm" method="post" enctype="multipart/form-data">
                                                  {% csrf_token %}
                                                  
                                                  {% if company_form.errors %}
                                                         <ul class="text-warning">
                                                          {% for field, errors in company_form.errors.items %}
                                                        {% for error in errors %}
                                                         <li>{{ field | capfirst }}: {{ error | capfirst }}</li>
                                                       {% endfor %}
                                                       {% endfor %}
                                                       </ul>
                                                    {% endif %}
                                                    {% if user_form.errors %}
                                                         <ul class="text-warning">
                                                          {% for field, errors in user_form.errors.items %}
                                                        {% for error in errors %}
                                                         <li>{{ field | capfirst }}: {{ error | capfirst }}</li>
                                                       {% endfor %}
                                                       {% endfor %}
                                                       </ul>
                                                    {% endif %}
                                                  <h1>Register:</h1>
                                                  
                                                  <!-- One "tab" for each step in the form: -->
                                                  <div class="tab">
                                                    <p class="h3">Company Information</p>

                                                    <div class=" col-md mb-3">
                                                      <label class="small"  for="{{company_form.name.id_for_label}}">{{company_form.name.label}}: {% for err in company_form.name.errors %} <small class="text-warning fw-bold "> {{err}}</small> {% endfor %}  </label>
                                                      {{company_form.name}}
                                                    </div>


                                                    <div class=" col-md mb-3">
                                                      <label class="small"  for="{{company_form.slogan.id_for_label}}">{{company_form.slogan.label}}: {% for err in company_form.slogan.errors %} <small class="text-warning fw-bold "> {{err}}</small> {% endfor %}  </label>
                                                      {{company_form.slogan}}
                                                    </div>

                       

                                                    <div class=" col-md mb-3">
                                                      <label class="small"  for="{{company_form.since.id_for_label}}">{{company_form.since.label}}: {% for err in company_form.since.errors %} <small class="text-warning fw-bold "> {{err}}</small> {% endfor %}  </label>
                                                      {{company_form.since}}
                                                    </div>


                                                    <div class=" col-md mb-3">
                                                      <label class="small"  for="{{company_form.about.id_for_label}}">{{company_form.about.label}}: {% for err in company_form.about.errors %} <small class="text-warning fw-bold "> {{err}}</small> {% endfor %}  </label>
                                                      {{company_form.about}}
                                                    </div>
                                                    
                                                  </div>
                                                  
                                                  <div class="tab">
                                                    <p class="h3">Company Information</p>

                                                    <div class=" col-md mb-3">
                                                      <label class="small"  for="{{company_form.email.id_for_label}}">{{company_form.email.label}}: {% for err in company_form.email.errors %} <small class="text-warning fw-bold "> {{err}}</small> {% endfor %}  </label>
                                                      {{company_form.email}}
                                                    </div>

                                                    <div class=" col-md mb-3">
                                                      <label class="small"  for="{{company_form.address.id_for_label}}">{{company_form.address.label}}: {% for err in company_form.address.errors %} <small class="text-warning fw-bold "> {{err}}</small> {% endfor %}  </label>
                                                      {{company_form.address}}
                                                    </div>

                                                    <div class=" col-md mb-3">
                                                      <label class="small"  for="{{company_form.phone.id_for_label}}">{{company_form.phone.label}}: {% for err in company_form.phone.errors %} <small class="text-warning fw-bold "> {{err}}</small> {% endfor %}  </label>
                                                      {{company_form.phone}}
                                                    </div>

                                                    <div class=" col-md mb-3">
                                                      <label class="small"  for="{{company_form.website.id_for_label}}">{{company_form.website.label}}: {% for err in company_form.website.errors %} <small class="text-warning fw-bold "> {{err}}</small> {% endfor %}  </label>
                                                      {{company_form.website}}
                                                    </div>

                                                    <div class=" col-md mb-3">
                                                      <label class="small"  for="{{company_form.logo.id_for_label}}">{{company_form.logo.label}}: {% for err in company_form.logo.errors %} <small class="text-warning fw-bold "> {{err}}</small> {% endfor %}  </label>
                                                      {{company_form.logo}}
                                                    </div>
                                                  </div>
                                                  
                                                  <div class="tab">
                                                    <p class="h3"> User Information</p>
                                                   
                                                   {{user_form.as_p}}
                                                  </div>

                                                
                                                
                                                  
                                                  <div class="mt-3" style="overflow:auto;">
                                                    <div style="float:right;">
                                                      <button class="btn btn-primary" type="button" id="prevBtn" onclick="nextPrev(-1)">Previous</button>
                                                      <button class="btn btn-primary" type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
                                                    </div>
                                                  </div>
                                                  
                                                  <!-- Circles which indicates the steps of the form: -->
                                                  <div style="text-align:center;margin-top:40px;">
                                                    <span class="step"></span>
                                                    <span class="step"></span>
                                                    <span class="step"></span>
                                                    <span class="step"></span>
                                                  </div>
                                                  
                                                  </form>
                                              </div>
                                            </div>
                                        </div><!--end col-->
                                    </div><!--end row-->
                                </div><!--end auth-box-->
                            </div><!--end col-->
                        </div><!--end row-->
                    </div><!--end container-->
                </section>
                <!-- END SIGN-UP -->
                {% else %}
                              <!-- Begin page -->
    <div class="mt-4 pt-3">
        <div class="main-content">
          <div class="page-content">
            <!-- START SIGN-OUT -->
            <section class="bg-auth">
              <div class="container">
                <div class="row justify-content-center">
                  <div class="col-xl-10 col-lg-12">
                    <div class="card auth-box">
                      <div class="row">
                        <div class="col-lg-6 text-center">
                          <div class="card-body p-4">
                            <a href="index.html">
                              <img
                                src="{% static 'assets/images/logo-light.png' %}"
                                alt=""
                                class="logo-light"
                              />
                              <img
                                src="{% static 'assets/images/logo-dark.png' %}"
                                alt=""
                                class="logo-dark"
                              />
                            </a>
                            <div class="mt-5">
                              <img
                                src="{% static 'assets/images/auth/sign-in.png' %}"
                                alt=""
                                class="img-fluid"
                              />
                            </div>
                          </div>
                        </div>
                        <!--end col-->
                        <div class="col-lg-6">
                          <div class="auth-content card-body p-5 text-white">
                            <div class="w-100">
                              <div class="text-center mb-4">
                                <h5>You are aleady have an Account</h5>
                                <p class="text-white-70">
                                  Would you like to Back
                                </p>
                              </div>
                              <a
                                href="{% url 'index'%}"
                                class="btn btn-white btn-hover w-100"
                                >Back</a
                              >
                              <div class="mt-3 text-center">
                                <p class="mb-0">
                                  
                                  <a
                                    href="{% url 'logout' %}"
                                    class="fw-medium text-white text-decoration-underline"
                                  >
                                    logout
                                  </a>
                                </p>
                              </div>
                            </div>
                          </div>
                        </div>
                        <!--end col-->
                      </div>
                      <!--end row-->
                    </div>
                    <!--end auth-box-->
                  </div>
                  <!--end col-->
                </div>
                <!--end row-->
              </div>
              <!--end container-->
            </section>
            <!-- END SIGN-OUT -->
          </div>
          <!-- End Page-content -->
        </div>
        <!-- end main content-->
      </div>
      <!-- END layout-wrapper -->
                {% endif %}
            </div>
            <!-- End Page-content -->

        </div>
        <!-- end main content-->

    </div>
<script>
  var currentTab = 0; // Current tab is set to be the first tab (0)
showTab(currentTab); // Display the current tab

function showTab(n) {
  // This function will display the specified tab of the form ...
  var x = document.getElementsByClassName("tab");
  x[n].style.display = "block";
  // ... and fix the Previous/Next buttons:
  if (n == 0) {
    document.getElementById("prevBtn").style.display = "none";
  } else {
    document.getElementById("prevBtn").style.display = "inline";
  }
  if (n == (x.length - 1)) {
    document.getElementById("nextBtn").innerHTML = "Submit";
  } else {
    document.getElementById("nextBtn").innerHTML = "Next";
  }
  // ... and run a function that displays the correct step indicator:
  fixStepIndicator(n)
}

function nextPrev(n) {
  // This function will figure out which tab to display
  var x = document.getElementsByClassName("tab");
  // Exit the function if any field in the current tab is invalid:
  if (n == 1 && !validateForm()) return false;
  // Hide the current tab:
  x[currentTab].style.display = "none";
  // Increase or decrease the current tab by 1:
  currentTab = currentTab + n;
  // if you have reached the end of the form... :
  if (currentTab >= x.length) {
    //...the form gets submitted:
    document.getElementById("regForm").submit();
    return false;
  }
  // Otherwise, display the correct tab:
  showTab(currentTab);
}

function validateForm() {
  // This function deals with validation of the form fields
  var x, y, i, valid = true;
  x = document.getElementsByClassName("tab");
  y = x[currentTab].getElementsByTagName("input");
  // A loop that checks every input field in the current tab:
  // for (i = 0; i < y.length; i++) {
  //   // If a field is empty...
  //   if (y[i].value == "") {
  //     // add an "invalid" class to the field:
  //     y[i].className += " invalid";
  //     // and set the current valid status to false:
  //     valid = false;
  //   }
  // }
  // If the valid status is true, mark the step as finished and valid:
  if (valid) {
    document.getElementsByClassName("step")[currentTab].className += " finish";
  }
  return valid; // return the valid status
}

function fixStepIndicator(n) {
  // This function removes the "active" class of all steps...
  var i, x = document.getElementsByClassName("step");
  for (i = 0; i < x.length; i++) {
    x[i].className = x[i].className.replace(" active", "");
  }
  //... and adds the "active" class to the current step:
  x[n].className += " active";
}

</script>
</body>
</html>